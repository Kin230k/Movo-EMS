<div class="user-management-container">
  <div class="header-section">
    <h1>{{ "USER_MANGEMENT.TITLE" | translate }}</h1>
  </div>

  <app-query-status [query]="projectsQuery">
    <app-topbar
      [projects]="projects"
      (projectSelected)="onProjectSelected($event)"
    ></app-topbar>
  </app-query-status>

  <!-- legacy local loading/errors below can remain for users list -->

  <!-- show empty state if finished and no users -->
  <div
    *ngIf="!isLoading && isFinished && users && users.length === 0"
    class="empty-state"
  >
    {{ "USER_MANGEMENT.NO_PROJECTS_FOUND" | translate }}
  </div>

  <!-- show real list when loaded -->
  <div *ngIf="!isLoading && users && users.length > 0">
    <app-card-list
      [items]="users"
      [cardComponent]="profileCardComponent"
    ></app-card-list>
  </div>
</div>
